(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{1489:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/changepassword",function(){return c(8595)}])},3784:function(a,b,c){"use strict";var d=c(7568),e=c(4924),f=c(6042),g=c(9396),h=c(4051),i=c.n(h),j=c(5893),k=c(7294),l=c(9473),m=c(1163),n=c.n(m),o=c(7916),p=c(8525),q=c(4884);b.Z=function(){var a,b=(0,l.I0)(),c=(0,k.useState)({current:"",password:"",password2:""}),h=c[0],m=c[1],r=(a=(0,d.Z)(i().mark(function a(c){var d,e,f,g,j;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!(""===h.current||""===h.password)){a.next=3;break}return a.abrupt("return",b((0,p.ri)(["You must fill all the fields"])));case 3:if(!(h.current.length<6||h.password.length<6)){a.next=5;break}return a.abrupt("return",b((0,p.ri)(["Password can not be less than 6 charecter long"])));case 5:if(!(h.password!==h.password2)){a.next=7;break}return a.abrupt("return",b((0,p.ri)(["Password did not match"])));case 7:return a.prev=7,b((0,p.o4)(!0)),a.next=11,o.Z.put("/admin/changepassword",h);case 11:202===(d=a.sent).status&&(b((0,p.hb)()),n().push("/")),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(7),(null===a.t0|| void 0===a.t0?void 0:null===(e=a.t0.response)|| void 0===e?void 0:null===(f=e.data)|| void 0===f?void 0:f.msg)&&b((0,p.ri)([a.t0.response.data.msg])),((null===a.t0|| void 0===a.t0?void 0:null===(g=a.t0.response)|| void 0===g?void 0:g.status)===401||(null===a.t0|| void 0===a.t0?void 0:null===(j=a.t0.response)|| void 0===j?void 0:j.status)===405)&&(window.localStorage.removeItem("user"),b((0,q.uJ)()),n().push("/user/login"));case 20:return a.prev=20,b((0,p.o4)(!1)),a.finish(20);case 23:return a.abrupt("return",null);case 24:case"end":return a.stop()}},a,null,[[7,15,20,23]])})),function(b){return a.apply(this,arguments)}),s=function(a){m((0,g.Z)((0,f.Z)({},h),(0,e.Z)({},a.target.name,a.target.value)))};return(0,j.jsx)("section",{className:"ChangePass",children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("h2",{className:"mt-5",children:"Change password"}),(0,j.jsxs)("form",{onSubmit:r,children:[(0,j.jsx)("div",{className:"row mb-3",children:(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"form-floating",children:[(0,j.jsx)("input",{type:"password",className:"form-control",id:"current",name:"current",placeholder:"******",onChange:s}),(0,j.jsx)("label",{htmlFor:"current",children:"current password"})]})})}),(0,j.jsxs)("div",{className:"row mb-3",children:[(0,j.jsx)("div",{className:"col-md-6 mb-3",children:(0,j.jsxs)("div",{className:"form-floating",children:[(0,j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"******",onChange:s}),(0,j.jsx)("label",{htmlFor:"password",children:"new password"})]})}),(0,j.jsx)("div",{className:"col-md-6 mb-3",children:(0,j.jsxs)("div",{className:"form-floating",children:[(0,j.jsx)("input",{type:"password",className:"form-control",id:"password2",name:"password2",placeholder:"******",onChange:s}),(0,j.jsx)("label",{htmlFor:"password2",children:"Confirm new password"})]})})]}),(0,j.jsx)("div",{className:"row mb-3",children:(0,j.jsx)("div",{className:"col",children:(0,j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})})})]})]})})}},2319:function(a,b,c){"use strict";var d=c(5893),e=c(9473);b.Z=function(){var a=(0,e.v9)(function(a){return a.elements.errorList}),b=(0,e.v9)(function(a){return a.elements.successMessageList});return a.length>0?(0,d.jsx)("div",{className:"alert alert-danger",children:(0,d.jsx)("ul",{children:a.map(function(a,b){return(0,d.jsxs)("li",{className:"list-unstyled",children:[(0,d.jsx)("img",{src:"/icons/exclamination.svg",alt:"",width:"25px"})," ",a]},b)})})}):b.length>0?(0,d.jsx)("div",{className:"alert alert-success",children:(0,d.jsx)("ul",{children:b.map(function(a,b){return(0,d.jsxs)("li",{className:"list-unstyled",children:[(0,d.jsx)("img",{src:"/icons/tick.svg",alt:"",width:"25px"})," ",a]},b)})})}):null}},8595:function(a,b,c){"use strict";c.r(b);var d=c(5893),e=c(7294),f=c(1163),g=c.n(f),h=c(9473),i=c(1964),j=c(3784),k=c(5789),l=c(2319),m=c(8525),n=c(4884);b.default=function(){var a=!1,b=(0,h.I0)(),c=(0,h.v9)(function(a){return a.elements.isLoading});return(0,e.useEffect)(function(){!1===a&&(b((0,m.o4)(!0)),null===localStorage.getItem("user")?(b((0,n.JE)(!1)),g().push("/user/login")):b((0,n.JE)(!0)),b((0,m.hb)([])),b((0,m.o4)(!1))),a=!0},[]),(0,d.jsxs)(i.Z,{children:[(0,d.jsx)("div",{className:"container mt-2",children:(0,d.jsx)(l.Z,{})}),(0,d.jsx)("div",{className:"changepassword",children:c?(0,d.jsx)(k.Z,{}):(0,d.jsx)(j.Z,{})})]})}}},function(a){a.O(0,[664,206,774,888,179],function(){var b;return a(a.s=1489)}),_N_E=a.O()}])