(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{4414:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/requesthistory",function(){return c(98)}])},5112:function(a,b,c){"use strict";var d=c(5893),e=c(9473),f=c(1664),g=c.n(f),h=c(375);c(4884);var i=c(6572),j=c(9313),k=h.uJ.TEACHER,l=h.Wb.APPROVED,m=h.Wb.REJECTED,n=h.Wb.PENDING;b.Z=function(a){var b=a.scheduledClassList,c=a.acceptRequestHandler,f=a.rejectRequestHandler,h=(0,e.v9)(function(a){return a.user.selectedContent}),o=(0,e.v9)(function(a){return a.user.authUserInfo}),p=function(a){switch(h){case n:return o.role===k?(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(b){return c(b,a.id)},children:"Accept"}),(0,d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(b){return f(b,a.id)},children:"Reject"}),(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})]}):(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})});case l:return(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})});case m:return o.role===k?(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(b){return c(b,a.id)},children:"Accept"}),(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})]}):(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})});default:return(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)(g(),{href:"/scheduledclass/detail/".concat(a.id),type:"button",className:"btn btn-primary",children:"Detail"})})})}};return(0,d.jsx)("div",{className:"ScheduledClassList",children:b.length>0?(0,d.jsx)("div",{children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{className:"bg-primary text-white border-white",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",children:"ID"}),(0,d.jsx)("th",{scope:"col",children:"Tution Location"}),(0,d.jsx)("th",{scope:"col",children:"Time"}),(0,d.jsx)("th",{scope:"col",children:"Class"}),(0,d.jsx)("th",{scope:"col",children:"Subject"}),(0,d.jsx)("th",{scope:"col",children:"Handler"})]})}),(0,d.jsx)("tbody",{className:"text-lowercase",children:b.map(function(a,b){var c,e;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:null==a?void 0:a.id}),(0,d.jsx)("td",{children:(0,i.En)(null==a?void 0:a.types)}),(0,d.jsx)("td",{children:(0,j.AR)(null==a?void 0:a.start)}),(0,d.jsx)("td",{children:null==a?void 0:null===(c=a.Subject)|| void 0===c?void 0:c.name}),(0,d.jsx)("td",{children:null==a?void 0:null===(e=a.ClassType)|| void 0===e?void 0:e.name}),p(a)]},b)})})]})}):(0,d.jsx)("div",{className:"alert alert-danger",children:"No request found"})})}},98:function(a,b,c){"use strict";c.r(b);var d=c(7568),e=c(797),f=c(4051),g=c.n(f),h=c(5893),i=c(9473),j=c(1163),k=c.n(j),l=c(7294),m=c(1964),n=c(375),o=c(1673),p=c(4884),q=c(5112),r=c(8525),s=c(7916),t=n.Wb.APPROVED,u=n.Wb.PENDING,v=n.Wb.REJECTED,w=n.Wb.START_CLASS,x=n.Wb.FINISH_CLASS;b.default=function(){var a,b,c=(0,i.I0)(),f=(0,i.v9)(function(a){return a.user.selectedContent}),j=(0,i.v9)(function(a){return a.scheduledclass.tabElements}),n=(0,i.v9)(function(a){return a.user.authUserInfo}),y=(0,i.v9)(function(a){return a.scheduledclass.requestedSCOU}),z=(0,i.v9)(function(a){return a.scheduledclass.runningSCOU}),A=(0,i.v9)(function(a){return a.scheduledclass.completedSCOU}),B=(0,i.v9)(function(a){return a.scheduledclass.acceptedSCOU}),C=(0,i.v9)(function(a){return a.scheduledclass.rejectedSCOU}),D=(0,i.v9)(function(a){return a.user.userUnseenNotifications}),E=function(a,b){a.preventDefault(),c((0,p.ml)(b))},F=(a=(0,d.Z)(g().mark(function a(b,d){var f,h,i,j,l,m,n;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),console.log("Accept"),a.prev=2,c((0,r.o4)()),a.next=6,s.Z.put("/scheduledclass/accept/".concat(d));case 6:(200===(f=a.sent).status||202===f.status)&&(h=y.find(function(a){return a.id===d}),i=y.filter(function(a){return a.id!==d}),c((0,o.d5)((0,e.Z)(B).concat([h]))),c((0,o.g0)(i))),a.next=16;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0),(null===a.t0|| void 0===a.t0?void 0:null===(j=a.t0.response)|| void 0===j?void 0:null===(l=j.data)|| void 0===l?void 0:l.msg)&&c((0,r.ri)([a.t0.response.data.msg])),((null===a.t0|| void 0===a.t0?void 0:null===(m=a.t0.response)|| void 0===m?void 0:m.status)===401||(null===a.t0|| void 0===a.t0?void 0:null===(n=a.t0.response)|| void 0===n?void 0:n.status)===405)&&(window.localStorage.removeItem("user"),c((0,p.uJ)()),k().push("/user/login"));case 16:return a.prev=16,c((0,r.o4)()),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[2,10,16,19]])})),function(b,c){return a.apply(this,arguments)}),G=(b=(0,d.Z)(g().mark(function a(b,d){var f,h,i,j,k;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),a.prev=1,c((0,r.o4)()),a.next=5,s.Z.put("/scheduledclass/reject/".concat(d));case 5:(200===(f=a.sent).status||202===f.status)&&(h=y.find(function(a){return a.id===d}),i=y.filter(function(a){return a.id!==d}),c((0,o.FR)((0,e.Z)(C).concat([h]))),c((0,o.g0)(i))),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(1),console.log(a.t0),(null===a.t0|| void 0===a.t0?void 0:null===(j=a.t0.response)|| void 0===j?void 0:null===(k=j.data)|| void 0===k?void 0:k.msg)&&c((0,r.ri)([a.t0.response.data.msg]));case 14:return a.prev=14,c((0,r.o4)()),a.finish(14);case 17:case"end":return a.stop()}},a,null,[[1,9,14,17]])})),function(a,c){return b.apply(this,arguments)});return(0,l.useEffect)(function(){n.id&&(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all([c((0,o.k9)(n.id)),c((0,p.n_)(n.id))]);case 2:if(!(D.length>0)){a.next=5;break}return a.next=5,c((0,p.hA)(null));case 5:case"end":return a.stop()}},a)}))()},[n]),(0,h.jsx)(m.Z,{children:(0,h.jsx)("section",{className:"section",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"requesthistory",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("ul",{className:"nav nav-tabs",children:j.map(function(a,b){return(0,h.jsx)("li",{className:"nav-item",children:(0,h.jsx)("a",{className:f===a.name?"nav-link rounded-1 active":"nav-link rounded-1","aria-current":"page",href:"#",onClick:function(b){return E(b,a.name)},children:a.text})},b)})})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"content-for-classlist",children:function(){switch(f){case t:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:B});case u:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:y});case v:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:C});case w:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:z});case x:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:A});default:return(0,h.jsx)(q.Z,{acceptRequestHandler:F,rejectRequestHandler:G,scheduledClassList:B})}}()})})]})})})})})}},6572:function(a,b,c){"use strict";c.d(b,{En:function(){return h}}),c(4051);var d=c(375),e=d.V5.ONLINE,f=d.V5.TL,g=d.V5.SL;d.V5.ANY;var h=function(a){var b=[];if(a)for(var c=a.split("_"),d=0;d<c.length;d+=1)switch(c[d]){case e:b.push("Online");break;case f:b.push("Teacher's Location");break;case g:b.push("Student's Location")}return b}},9313:function(a,b,c){"use strict";c.d(b,{AR:function(){return e},mb:function(){return f},ud:function(){return g}});var d=function(a){var b=a.getHours(),c=a.getMinutes(),d=b>=12?"pm":"am";return b%=12,b=b||12,c=c<10?"0".concat(c):c,"".concat(b,":").concat(c," ").concat(d)},e=function(a){var b=new Date(a),c="".concat(b.getDate(),"-").concat(b.getMonth(),"-").concat(b.getFullYear()),e=d(b);return"".concat(c," ").concat(e)},f=function(a){var b=new Date(a);return"".concat(b.getDate(),"-").concat(b.getMonth(),"-").concat(b.getFullYear())},g=function(a){var b=new Date(a);return"".concat(b.getHours(),"-").concat(b.getHours()+1)}}},function(a){a.O(0,[997,206,774,888,179],function(){var b;return a(a.s=4414)}),_N_E=a.O()}])